
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Maneuverable Web Architecture - The Land of Shattered Dreams</title>
  <meta name="author" content="Andrew Braithwaite">

  
  <meta name="description" content="One of my colleagues attend QCon London and saw a presentation by Michael Nygard
on Maneuverable Web Architecture. A few of us got together and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.landofshattereddreams.com/blog/2014/04/11/maneuverable-web-architecture">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The Land of Shattered Dreams" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script type="text/javascript" src="/javascripts/losd.js"></script>
<script type="text/javascript" src="http://use.typekit.net/rky2ggt.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40508478-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
     <div id="logo">
		<a href="/"> <img class="left" src="/images/losd-logo.png"></a>
	 </div>
	 <div id="heading">
		<h1><a href="/">The land of <span class="broken">Shattered</span> dreams</a></h1>
	  	
	    	<h2>Welcome to the online revolution&hellip;</h2>
	  	
     </div>	
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.landofshattereddreams.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About me</a>
  <li><a href="/contact-me">Contact me</a>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Maneuverable Web Architecture</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-11T11:19:00+01:00" pubdate data-updated="true">Apr 11<span>th</span>, 2014</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class="left" src="/images/typhoon.jpeg" />
One of my colleagues attend QCon London and saw a presentation by <a href="http://www.michaelnygard.com/">Michael Nygard</a>
on <a href="http://gotocon.com/berlin-2013/presentation/Maneuverable%20Web%20Architecture">Maneuverable Web Architecture</a>. A few of us got together and watched it and
it got us thinking&#8230;</p>

<p>Businesses need to be able to move quickly, and some of the established architectural
patterns stop them doing this. The presentation contained lots of ideas but I am going
to concentrate on one: sending an email to a customer.</p>

<p>The traditional approach is for the application sending the email to write to a
database saying who the email is to goto, when to send it and the data to be included
in the email. A batch job wakes up, scans the database for emails to send, builds them
and then sends them on.</p>

<p>This approach works well, loads of people have done it, and it is pretty easy to
implement. There are some problems though: changing things can be difficult; you have
to make sure that you don&#8217;t break any of the queued emails whenever you make a change.
The solution isn&#8217;t very flexible either, it is good for sending emails but if you want
to do something else you will have to revisit your entire solution.</p>

<p>Is there a better way? Michael proposed this approach. When I first saw it I thought
it was a bit crazy, but I had a go at implementing it and it has a lot going for it&#8230;</p>

<p>We first create a few components:</p>

<ul>
  <li><strong>at service</strong> - this service call as specified url at a given point in time a
client will basically</li>
  <li><strong>script engine</strong> - this service is passed a script and executes it</li>
  <li><strong>script factory</strong> - this service builds scripts for the script engine to execute</li>
</ul>

<p>How does this let us send an email to a customer?</p>

<ul>
  <li>the client sending the email says to the script factory: &#8220;Give me an email sending script&#8221;</li>
  <li>the script factory builds the script and passes a url to execute the script to the client</li>
  <li>the client says to the at service: &#8220;Call this url now&#8221;</li>
  <li>the at service calls the url, and the script engine executes the script</li>
  <li>the script does everything required to send an email to the customer</li>
</ul>

<p>How is this better?
* The at service just calls urls at a point in time, you can use it for anything
* If the you add new functionality you can just deploy a new script engine and script factory
on a different url. All the exisitng scripts will still work, any new scripts will go to the new
versions. If you want to add email tracking, change the script factory to include
it and then all new scripts will have email tracking. All the old scripts will still work.
* All clients are doing is asking for a script and scheduling them. You
can write scripts to do anything you can think of&#8230;</p>

<p>I am glossing over some of the problems&#8230; The script engine is non-trivial, error
handling seems complicated and it takes some explaining to developers.</p>

<p>If your interested I had a go at implementing the approach, you can see the results on <a href="http://github.com/typingincolor/typhoon">github</a>.
It is by no means production ready, but you can kind of see how it could work&#8230;</p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andrew Braithwaite</span></span>

      








  


<time datetime="2014-04-11T11:19:00+01:00" pubdate data-updated="true">Apr 11<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/development/'>Development</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.landofshattereddreams.com/blog/2014/04/11/maneuverable-web-architecture/" data-via="typingincolor" data-counturl="http://www.landofshattereddreams.com/blog/2014/04/11/maneuverable-web-architecture/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/03/17/adventures-in-oauth2/" title="Previous Post: Adventures in OAuth2">&laquo; Adventures in OAuth2</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/04/11/maneuverable-web-architecture/">Maneuverable Web Architecture</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/17/adventures-in-oauth2/">Adventures in OAuth2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/27/documenting-apis/">Documenting APIs</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/16/brompton-for-sale/">Brompton for sale</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/28/welcome/">Welcome to the Land of Shattered Dreams</a>
      </li>
    
  </ul>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/AndrewBraithwaite?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
<li><a style="font-size: 89%" href="/tags/api/">API</a></li>
<li><a style="font-size: 119%" href="/tags/agile-development/">Agile Development</a></li>
<li><a style="font-size: 89%" href="/tags/andrew-braithwaite/">Andrew Braithwaite</a></li>
<li><a style="font-size: 60%" href="/tags/project-management/">Project Management</a></li>
<li><a style="font-size: 89%" href="/tags/restful/">RESTful</a></li>
<li><a style="font-size: 89%" href="/tags/alfred/">alfred</a></li>
<li><a style="font-size: 89%" href="/tags/apigee/">apigee</a></li>
<li><a style="font-size: 106%" href="/tags/applescript/">applescript</a></li>
<li><a style="font-size: 106%" href="/tags/code/">code</a></li>
<li><a style="font-size: 89%" href="/tags/css/">css</a></li>
<li><a style="font-size: 89%" href="/tags/css3/">css3</a></li>
<li><a style="font-size: 165%" href="/tags/development/">development</a></li>
<li><a style="font-size: 89%" href="/tags/facebook/">facebook</a></li>
<li><a style="font-size: 89%" href="/tags/html/">html</a></li>
<li><a style="font-size: 89%" href="/tags/java/">java</a></li>
<li><a style="font-size: 128%" href="/tags/javascript/">javascript</a></li>
<li><a style="font-size: 119%" href="/tags/ruby/">ruby</a></li>
<li><a style="font-size: 60%" href="/tags/sinatra/">sinatra</a></li>
<li><a style="font-size: 89%" href="/tags/things/">things</a></li>
<li><a style="font-size: 119%" href="/tags/work/">work</a></li>

  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Andrew Braithwaite -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'landofshattereddreams';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.landofshattereddreams.com/blog/2014/04/11/maneuverable-web-architecture/';
        var disqus_url = 'http://www.landofshattereddreams.com/blog/2014/04/11/maneuverable-web-architecture/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
